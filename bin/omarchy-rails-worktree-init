#!/bin/bash

# omarchy-rails-worktree-init: Track and initialize woktree workflow in a Rails project
# Usage: omarchy-rails-worktree-init <project-directory>

if [ -z "$1" ]; then
  echo -e "\e[32m\e[0m"
  PROJECT_DIRECTORY=$(gum input --placeholder="Project directory" --header="")
else
  PROJECT_DIRECTORY="$1"
fi

if [ -z "$PROJECT_DIRECTORY" ]; then
  exit 1
fi

mkdir $HOME/.config/omarchy-rails-worktree/
echo "$PROJECT_DIRECTORY" >> $HOME/.config/omarchy-rails-worktree/projects
